<h2>Edit Historical Figure</h2>

<form method="post" action="/figures/<%= @figure.id %>">
  <input type="hidden" id="hidden" name="_method" value="patch" />

  <p>
    <label for="figure_name">Name: </label>
    <input type="text" id="figure_name" name="figure[name]" value="<%= @figure.name %>" required />
  </p>

  <h3>Titles</h3>
  <% @titles.sort_by{ |title| title.name }.each do |title| %>
    <label><%= title.name %></label>
    <input type="checkbox" id="title_<%= title.id %>" name="figure[title_ids][]" value="<%= title.id %>" <%= 'checked' if @figure.titles.include?(title) %>><br>
  <% end %>

  <h3><label for="new_title">Create New Title:</label></h3>
  <input type="text" id="new_title" name="title[name]" />

  <h3>Landmarks</h3>
  <% @landmarks.sort_by{ |landmark| landmark.name }.each do |landmark| %>
    <label><%= landmark.name %></label>
    <input type="checkbox" id="landmark_<%= landmark.id %>" name="figure[landmark_ids][]" value="<%= landmark.id %>" <%= 'checked' if @figure.landmarks.include?(landmark) %>><br>
  <% end %>

  <h3>Create New Landmark:</h3>
  <p>
    <label for="new_landmark">Name: </label>
    <input type="text" id="new_landmark" name="landmark[name]" />

    <label for="landmark_year_completed">Year: </label>
    <input type="text" id="landmark_year_completed" name="landmark[year_completed]" />
  </p>

  <p><input type="submit" value="Edit Figure" />
</form>

<p>
  <a class="button" href="/figures">Figures</a>
  <a class="button" href="/">Home</a>
</p>